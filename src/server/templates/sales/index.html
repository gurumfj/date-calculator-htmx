{% extends "sales/base.html" %}

{% block content %}
    <div class="container mx-auto px-4 py-8 flex flex-col justify-center items-center">
        <!-- 標題區塊 -->
        <div class="mb-6 text-center">
            <h1 class="text-3xl font-bold text-gray-800">銷售紀錄</h1>
            <p class="text-gray-500 mt-1">所有批次的銷售資料總覽</p>
        </div>
        
        <!-- 卡片容器 -->
        <div class="bg-white rounded-lg shadow-md p-6 w-full max-w-6xl" x-data="{search: '{{ search or '' }}'}">
            {% include "sales/components/search_form.html" %}
            <!-- 銷售表格區塊 -->
            <div class="w-full">
                <div class="mb-4">
                    <h2 class="text-xl font-semibold text-gray-700">銷售明細表</h2>
                </div>
                
                <div class="overflow-x-auto rounded-md border border-gray-200">
                    <table class="min-w-full divide-y divide-gray-200 border-collapse">
                        <colgroup>
                            <col span="1" class="w-1/8">  <!-- 日期 -->
                            <col span="1" class="w-1/8">  <!-- 批次 -->
                            <col span="1" class="w-1/4">  <!-- 客戶 -->
                            <col span="1" class="w-1/12"> <!-- 公數 -->
                            <col span="1" class="w-1/12"> <!-- 母數 -->
                            <col span="1" class="w-1/8">  <!-- 公重 -->
                            <col span="1" class="w-1/8">  <!-- 母重 -->
                            <col span="1" class="w-1/8">  <!-- 公價 -->
                            <col span="1" class="w-1/8">  <!-- 母價 -->
                        </colgroup>
                        {% include "sales/components/table_header.html" %}
                        <tbody 
                            class="[&>tr>td]:px-6 [&>tr>td]:py-4 [&>tr>td]:whitespace-nowrap [&>tr>td]:text-sm"
                            id="sales_table"
                        >
                            <span id="search_error" class="text-red-500" hx-swap-oob="true"></span>
                            {% include "sales/sales_rows.html" %}
                        </tbody>
                    </table>
                    <div class="opacity-0 hidden" hx-get="q" hx-trigger="load once" hx-target="tbody"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}